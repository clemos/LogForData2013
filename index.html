<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">

		<title>Log For Data 2013</title>
		<meta name="description" content="">

		<meta name="viewport" content="width=device-width">
		<link rel="stylesheet" type="text/css" href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css" />
		<link rel="stylesheet" type="text/css" href="css/style.css" />

	</head>
	<body>
		<div class="container">
			<div class="app row">
				<div class="span6">
					<h4>Output</h4>
					<div class="well" id="txt"></div>
					<a class='btn' href='#' id='testtxt'>Test Text</a>
					<h4>Rendering</h4>
					<div class="well" id="render"></div>

				</div>
				<div class="span5">
					<h4>Signal</h4>
					<div id="swfDecoder"></div>
					<h4>Inputs</h4>
					<div id="ui"></div>
				</div>
			</div>
		</div>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
		<script>
			window.jQuery || document.write('<script src="js/vendor/jquery-1.7.2.min.js"><\/script>')
		</script>

		<script src="//ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js"></script>
		<script src="js/decoder.js"></script>
		<script>
			var data = "";
			var txt = $("#txt");
			var ui = $("#ui");
			var signals = ["mono", "left", "right"];

			Decoder.start("swf/decoder.swf", function(d) {
				d.onInputs = function(inputs) {
					ui.html("");
					var table = $("<table class='table'></table>");
					for ( i = 0; i < inputs.length; i++) {
						var input = inputs[i];
						var inputUi = $("<tr><td class='input-name'>" + input + "</td><td><div class='input-buttons btn-group'></div></td></tr>");
						var inputButtons = inputUi.find(".input-buttons");

						for ( j = 0; j < signals.length; j++) {
							var signal = signals[j];
							var btn = $("<a class='btn btn-mini input-button' data-input='" + i + "' data-signal='" + signal + "' href='#'>" + signal + "</a>");
							btn.click(function() {
								$(".input-button").removeClass("disabled");
								$(this).addClass("disabled");
								var inp = $(this).data('input');
								var sign = $(this).data('signal');
								d.attachInput(inp, sign);
							});
							inputButtons.append(btn);
						}

						table.append(inputUi);
					}
					ui.append(table);
				};
				d.onData = function(s) {
					data += s;
					txt.html(data);
				};
			});
		</script>
	</body>
